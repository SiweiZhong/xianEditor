{"version":3,"file":"bundle.js","sources":["../node_modules/_lodash-es@4.17.4@lodash-es/_freeGlobal.js","../node_modules/_lodash-es@4.17.4@lodash-es/_root.js","../node_modules/_lodash-es@4.17.4@lodash-es/_Symbol.js","../node_modules/_lodash-es@4.17.4@lodash-es/_getRawTag.js","../node_modules/_lodash-es@4.17.4@lodash-es/_objectToString.js","../node_modules/_lodash-es@4.17.4@lodash-es/_baseGetTag.js","../node_modules/_lodash-es@4.17.4@lodash-es/_overArg.js","../node_modules/_lodash-es@4.17.4@lodash-es/_getPrototype.js","../node_modules/_lodash-es@4.17.4@lodash-es/isObjectLike.js","../node_modules/_lodash-es@4.17.4@lodash-es/isPlainObject.js","../node_modules/_symbol-observable@1.0.4@symbol-observable/lib/ponyfill.js","../node_modules/_symbol-observable@1.0.4@symbol-observable/lib/index.js","../node_modules/_symbol-observable@1.0.4@symbol-observable/index.js","../node_modules/_redux@3.7.1@redux/es/createStore.js","../node_modules/_redux@3.7.1@redux/es/utils/warning.js","../node_modules/_redux@3.7.1@redux/es/compose.js","../node_modules/_redux@3.7.1@redux/es/index.js","../src/constants/inputConstant.js","../src/constants/stateConstant.js","../src/reducers/inputReducer.js","../src/reducers/stateReducer.js","../src/reducers/index.js","../src/Preview.vue","../src/util/nodeTypes.js","../src/util/index.js","../src/actions/inputAction.js","../src/actions/stateAction.js","../src/controllers/set.js","../src/controllers/move.js","../src/controllers/delete.js","../src/App.vue"],"sourcesContent":["/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports['default'] = symbolObservablePonyfill;\nfunction symbolObservablePonyfill(root) {\n\tvar result;\n\tvar _Symbol = root.Symbol;\n\n\tif (typeof _Symbol === 'function') {\n\t\tif (_Symbol.observable) {\n\t\t\tresult = _Symbol.observable;\n\t\t} else {\n\t\t\tresult = _Symbol('observable');\n\t\t\t_Symbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ponyfill = require('./ponyfill');\n\nvar _ponyfill2 = _interopRequireDefault(_ponyfill);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar root; /* global window */\n\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = (0, _ponyfill2['default'])(root);\nexports['default'] = result;","module.exports = require('./lib/index');\n","import isPlainObject from 'lodash-es/isPlainObject';\nimport $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nexport var ActionTypes = {\n  INIT: '@@redux/INIT'\n\n  /**\n   * Creates a Redux store that holds the state tree.\n   * The only way to change the data in the store is to call `dispatch()` on it.\n   *\n   * There should only be a single store in your app. To specify how different\n   * parts of the state tree respond to actions, you may combine several reducers\n   * into a single reducer function by using `combineReducers`.\n   *\n   * @param {Function} reducer A function that returns the next state tree, given\n   * the current state tree and the action to handle.\n   *\n   * @param {any} [preloadedState] The initial state. You may optionally specify it\n   * to hydrate the state from the server in universal apps, or to restore a\n   * previously serialized user session.\n   * If you use `combineReducers` to produce the root reducer function, this must be\n   * an object with the same shape as `combineReducers` keys.\n   *\n   * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n   * to enhance the store with third-party capabilities such as middleware,\n   * time travel, persistence, etc. The only store enhancer that ships with Redux\n   * is `applyMiddleware()`.\n   *\n   * @returns {Store} A Redux store that lets you read the state, dispatch actions\n   * and subscribe to changes.\n   */\n};export default function createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object') {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}","/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nexport default function warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n}","/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nexport default function compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(undefined, arguments));\n    };\n  });\n}","import createStore from './createStore';\nimport combineReducers from './combineReducers';\nimport bindActionCreators from './bindActionCreators';\nimport applyMiddleware from './applyMiddleware';\nimport compose from './compose';\nimport warning from './utils/warning';\n\n/*\n* This is a dummy function to check if the function name has been altered by minification.\n* If the function has been minified and NODE_ENV !== 'production', warn the user.\n*/\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \\'production\\'. ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { createStore, combineReducers, bindActionCreators, applyMiddleware, compose };","export const ADD_KEY = 'ADD_KEY'\r\nexport const BACKSPACE = 'BACKSPACE'\r\n\r\nexport const ADD_ROW = 'ADD_ROW'\r\n\r\nexport const ADD_B = 'ADD_B'\r\n","export const SET_LOCATION = 'SET_LOCATION'\r\nexport const SET_ORIGIN = 'SET_ORIGIN'\r\n\r\nexport const MOVE_LEFT = 'MOVE_LEFT'\r\nexport const MOVE_RIGHT = 'MOVE_RIGHT'\r\nexport const MOVE_UP = 'MOVE_UP'\r\nexport const MOVE_DOWN = 'MOVE_DOWN'\r\nexport const SET_ROWS_INDEX = 'SET_ROWS_INDEX'\r\nexport const REMOVE_ROWS_INDEX = 'REMOVE_ROWS_INDEX'\r\nexport const S_C_A_KEY = 'S_C_A_KEY'\r\n\r\n","import * as constants from '../constants'\r\n\r\nexport function words(state=[], action, editorState){\r\n  const {location, origin} = editorState;\r\n  switch(action.type){\r\n  case constants.ADD_KEY:\r\n    state = [...state];\r\n    state.splice(location, 0, action.value);\r\n    return state\r\n  case constants.BACKSPACE: {\r\n    state = [...state];\r\n    state.splice(location, 1);\r\n    return state;\r\n  }\r\n  case constants.ADD_B: {\r\n    let a = origin, b = location;\r\n    if(a == b) return state;\r\n\r\n    if(a > b){\r\n      let c = b;\r\n      b = a;\r\n      a = c;\r\n    }\r\n    state = [...state];\r\n    console.log(state.map(v => v.value))\r\n    state.splice(a, 0, {type:'style', value:{name:'b'}});\r\n    state.splice(b+1, 0, {type:'closed'});\r\n    console.log(state.map(v => v.value))\r\n    return state;\r\n  }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport function rowsIndex(state=[], action, location){\r\n  switch(action.type){\r\n  case constants.ADD_ROW:\r\n    return [\r\n      ...state,\r\n      {\r\n        value: action.key\r\n      }\r\n    ]\r\n  default:\r\n    return state\r\n  }\r\n}","import * as constants from '../constants'\r\n\r\nconst initEditorState = {\r\n  location: 0,\r\n  origin: 0,\r\n  rowsIndex: [],\r\n  shiftKey: false,\r\n  ctrlKey: false,\r\n  altKey: false,\r\n}\r\nexport function editorState(state=initEditorState, action){\r\n  switch(action.type){\r\n    case constants.SET_LOCATION:\r\n      return Object.assign({}, state, {\r\n        location: action.value\r\n      })\r\n    case constants.SET_ORIGIN:\r\n      return Object.assign({}, state, {\r\n        origin: action.value\r\n      })\r\n    case constants.SET_ROWS_INDEX: {\r\n      let rows = [...state.rowsIndex];\r\n      rows.push(action.value);\r\n      return Object.assign({}, state, {\r\n        rowsIndex: rows.sort((a, b) => a - b)\r\n      })\r\n    }\r\n    case constants.REMOVE_ROWS_INDEX: {\r\n      let rows = [...state.rowsIndex];\r\n      action.value.forEach(v => rows.splice(rows.indexOf(v), 1));\r\n      return Object.assign({}, state, {\r\n        rowsIndex: rows\r\n      })\r\n    }\r\n    case constants.S_C_A_KEY: {\r\n      const {shiftKey, ctrlKey, altKey} = action.value;\r\n      return Object.assign({}, state, {\r\n        shiftKey, ctrlKey, altKey\r\n      })\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}","import {combineReducers, createStore} from 'redux'\r\n\r\nimport {words} from './inputReducer'\r\nimport {editorState} from './stateReducer'\r\n\r\nfunction app(state={}, action){\r\n  const _editorState = editorState(state.editorState, action)\r\n\r\n  return {\r\n    editorState: _editorState,\r\n    words : words(state.words, action, _editorState),\r\n  }\r\n}\r\n\r\nexport default createStore(app)","<template> \r\n  <div class=\"icons\">\r\n    <span class=\"icon\" @click=\"clickingBold\">B</span>\r\n    <span class=\"icon\" @click=\"clickingAutoLinefeed\">Linefeed</span>\r\n    <span class=\"icon\" @click=\"clickingMath\">Math</span>\r\n    <!--<span class=\"icon\">I</span>\r\n    <span class=\"icon\">U</span>\r\n    <span class=\"icon\">link</span>-->\r\n    <!--<div style={{display: this.link || 'none'}}></div>-->\r\n  </div>\r\n</template>\r\n<script>\r\nimport store from './reducers'\r\nexport default {\r\n  data (){\r\n    return{\r\n      autoLinefeed: false,\r\n    }\r\n  },\r\n  methods: {\r\n    clickingBold (event){\r\n      this.$emit('clickingTools', 'bold');\r\n    },\r\n    clickingAutoLinefeed (event){\r\n      this.$emit('clickingTools', 'autoLinefeed', this.autoLinefeed);\r\n      this.autoLinefeed = !this.autoLinefeed;\r\n    },\r\n    clickingMath (event){\r\n      this.$emit('clickingTools', 'math');\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n.icons * {\r\n  box-sizing: border-box;\r\n}\r\n.icons {\r\n  border: 1px solid var(--border-color);\r\n  border-bottom-width: 0px;\r\n  background: #f3f3f3;\r\n}\r\n.icon {\r\n  line-height: 1.6em;\r\n  min-width: 1.42em;\r\n  text-align: center;\r\n  display: inline-block;\r\n  box-sizing: border-box;\r\n\r\n  margin-right: 4px;\r\n  cursor: pointer;\r\n}\r\n</style>","function text (value){\r\n  return {\r\n    type: 'text',\r\n    value\r\n  }\r\n}\r\nfunction placeholder (content, className, style={}, attr={}){\r\n  return {\r\n    type: 'placeholder',\r\n    name: 'span',\r\n    value: content,\r\n    attrs:{\r\n      attrs: Object.assign({\r\n        class: 'placeholder ' + className,\r\n      }, attr),\r\n      style,\r\n    }\r\n  }\r\n}\r\nfunction enter (value){\r\n  return {\r\n    type: 'enter',\r\n    value:{\r\n      name: 'br',\r\n    }\r\n  }\r\n}\r\nfunction style (name, attr){\r\n  return {\r\n    type: 'style',\r\n    value: {\r\n      name, attr\r\n    },\r\n  }\r\n}\r\nfunction closed(){\r\n  return {\r\n    type: 'closed',\r\n  }\r\n}\r\n\r\nexport {text, placeholder, enter, style, closed}","import * as nodeTypes from './nodeTypes'\r\n\r\nfunction whereAmI(arr, loc){\r\n  let x=0,y=0;\r\n  for(let i=0;i<arr.length;i++){\r\n    if(arr[i] >= loc){\r\n      break;\r\n    }\r\n    y++;\r\n    x = arr[i];\r\n  }\r\n  x = x == 0 ? loc : loc - x - 1;\r\n  \r\n  return {x, y};\r\n}\r\n\r\nconst canvas = document.createElement('canvas');\r\nconst ctx = canvas.getContext('2d');\r\n\r\nconst fontSize = '16px';\r\nconst fontWeight = 'normal';\r\nconst fontFamily = 'Microsoft YaHei';\r\n\r\nctx.font = `${fontSize} ${fontWeight} ${fontFamily}`;\r\n\r\nfunction getFontWidth(text='', size=fontSize, weight=fontWeight, family=fontFamily){\r\n  ctx.save();\r\n  ctx.font = `${size} ${weight} ${family}`;\r\n  let w = ctx.measureText(text).width;\r\n  ctx.restore();\r\n  return w;\r\n}\r\n\r\nfunction setData(self, state){\r\n  self.state = state.editorState;\r\n  self.words = state.words;\r\n}\r\n\r\nexport {nodeTypes, whereAmI, setData, getFontWidth}","import * as constants from '../constants'\r\nfunction addKey(word){\r\n  return {type: constants.ADD_KEY, value: word}\r\n}\r\nfunction backspace(){\r\n  return {type: constants.BACKSPACE}\r\n}\r\nfunction addB(){\r\n  return {type: constants.ADD_B}\r\n}\r\nexport {addKey, backspace, addB}\r\n","import * as constants from '../constants'\r\nfunction moveLeft(span=1){\r\n  return {type: constants.MOVE_LEFT, span}\r\n}\r\nfunction moveRight(span=1){\r\n  return {type: constants.MOVE_RIGHT, span}\r\n}\r\nfunction moveUp(span=1){\r\n  return {type: constants.MOVE_UP, span}\r\n}\r\nfunction moveDown(span=1){\r\n  return {type: constants.MOVE_DOWN, span}\r\n}\r\nfunction setLocation (location){\r\n  return {type: constants.SET_LOCATION, value: location}\r\n}\r\nfunction setOrigin (location){\r\n  return {type: constants.SET_ORIGIN, value: location}\r\n}\r\nfunction setRowsIndex (location){\r\n  return {type: constants.SET_ROWS_INDEX, value: location}\r\n}\r\nfunction removeRowsIndex (values){\r\n  if(!(values instanceof Array)){\r\n    values = [values]\r\n  }\r\n  return {type: constants.REMOVE_ROWS_INDEX, value: values}\r\n}\r\nfunction scaKey (shiftKey, ctrlKey, altKey){\r\n  return {type: constants.S_C_A_KEY, value: {shiftKey, ctrlKey, altKey}}\r\n}\r\nexport {moveLeft, moveRight, moveUp, moveDown, setLocation, setOrigin, setRowsIndex, removeRowsIndex, scaKey}","import store from '../reducers'\r\n\r\nimport {addKey, setRowsIndex, setLocation} from '../actions'\r\nimport {text, placeholder, enter, style, closed} from '../util/nodeTypes'\r\n\r\nlet tree = {};\r\n\r\nconst unsubscribe = store.subscribe(()=>{\r\n  tree = store.getState();\r\n})\r\n\r\nexport function addSpace(){\r\n  store.dispatch(addKey(placeholder('space')));\r\n  store.dispatch(setLocation(tree.editorState.location+1));\r\n}\r\nexport function addEnter(){\r\n  store.dispatch(setRowsIndex(tree.editorState.location));\r\n  store.dispatch(addKey(enter('br')));\r\n  store.dispatch(setLocation(tree.editorState.location+1));\r\n}","import store from '../reducers'\r\nimport {whereAmI} from '../util/'\r\nimport {setLocation} from '../actions'\r\n\r\nlet tree = {};\r\n\r\nconst unsubscribe = store.subscribe(()=>{\r\n  tree = store.getState();\r\n})\r\n\r\n\r\nexport function moveUp(){\r\n  let {x, y} = whereAmI(tree.editorState.rowsIndex, tree.editorState.location);\r\n  if(y !== 0){\r\n    let a = tree.editorState.rowsIndex[y-2] || 0;\r\n    let b = tree.editorState.rowsIndex[y-1] - a;\r\n\r\n    //本行长度比上一行长时，定位到上行结尾, b是个数,x是下标\r\n    if(x > b-1){\r\n      x = b; //a==0是边界情况\r\n      if(a > 0) x--; \r\n    }\r\n    const loc = a == 0 ? x : a + x + 1;\r\n    store.dispatch(setLocation(loc));\r\n  }\r\n}\r\nexport function moveDown(){\r\n  let {x, y} = whereAmI(tree.editorState.rowsIndex, tree.editorState.location);\r\n  if(y !== tree.editorState.rowsIndex.length){\r\n    let a = tree.editorState.rowsIndex[y+1] || tree.words.length; //相当于最后一位补了换行符\r\n    let b = a - tree.editorState.rowsIndex[y];\r\n\r\n    if(x > b-1){\r\n      x = b-1\r\n    }\r\n    const loc = tree.editorState.rowsIndex[y] + x + 1;\r\n    store.dispatch(setLocation(loc));\r\n  }\r\n}\r\nexport function moveLeft(){\r\n  while(1){\r\n    if(tree.editorState.location == 0){\r\n      break;\r\n    }\r\n    const x = tree.editorState.location-1\r\n    const word = tree.words[x];\r\n\r\n    if(word.type=='style' || word.type=='closed'){\r\n      store.dispatch(setLocation(x));\r\n    }else{\r\n      store.dispatch(setLocation(x));\r\n      break\r\n    }\r\n  }\r\n}\r\nexport function moveRight(){\r\n  while(1){\r\n    if(tree.editorState.location == tree.words.length){\r\n      break;\r\n    }\r\n    const x = tree.editorState.location + 1\r\n    let word = tree.words[x];\r\n    if(word && (word.type=='style' || word.type=='closed')){\r\n      store.dispatch(setLocation(x));\r\n    }else{\r\n      store.dispatch(setLocation(x));\r\n      break\r\n    }\r\n  }\r\n}","import store from '../reducers'\r\nimport {removeRowsIndex, setLocation, backspace} from '../actions'\r\n\r\nlet tree = {};\r\n\r\nconst unsubscribe = store.subscribe(()=>{\r\n  tree = store.getState();\r\n})\r\n\r\nexport function delBackspace(){\r\n  while(1){\r\n    let {location} = tree.editorState;\r\n    if(location <= 0) break;\r\n    let word = tree.words[location-1];\r\n    \r\n    if(word.type != 'style' && word.type != 'closed'){\r\n      if(word.type == 'enter'){\r\n        store.dispatch(removeRowsIndex(location-1));\r\n      }\r\n      store.dispatch(setLocation(location-1));\r\n      store.dispatch(backspace());\r\n    \r\n      word = tree.words[tree.editorState.location-1];\r\n      if(!word){\r\n        break;\r\n      }\r\n      if(word.type != 'style' && word.type != 'closed'){\r\n        break;\r\n      }\r\n      if(tree.words[tree.editorState.location] == 'closed'){ //遇到空的样式结点就删除\r\n        if(tree.words[tree.editorState.location-1] == 'style'){\r\n          store.dispatch(setLocation(tree.editorState.location-1));\r\n          store.dispatch(backspace());\r\n          store.dispatch(setLocation(tree.editorState.location-1));\r\n          store.dispatch(backspace());\r\n        }\r\n      }else if(word.type == 'style'){\r\n        break;\r\n      }\r\n    }else{\r\n      store.dispatch(setLocation(tree.editorState.location-1));\r\n    }\r\n  }\r\n}\r\n","<script>\r\nimport store from './reducers'\r\n\r\nimport Preview from './Preview.vue'\r\n\r\nimport {nodeTypes, getFontWidth, whereAmI, setData} from './util'\r\nimport {addKey, addB, backspace, setLocation, setOrigin, setRowsIndex, removeRowsIndex, scaKey} from './actions'\r\n\r\nimport {\r\n  addSpace, addEnter, \r\n  moveUp, moveDown, moveLeft, moveRight,\r\n  delBackspace,\r\n} from './controllers'\r\n\r\nconst {text, placeholder, enter, style, closed} = nodeTypes;\r\n\r\nfunction renderContent (h, i){\r\n  let _children = [];\r\n  for(;i<this._words.length;i++){\r\n    let w = this._words[i];\r\n    if(w.type == 'style'){\r\n      const {children, index} = renderContent.call(this, h, i+1);\r\n      const attrs = Object.assign({}, w.attrs);\r\n\r\n      _children[_children.length] = h(w.name , attrs, children);\r\n      i = index;\r\n    }else if(w.type == 'closed'){\r\n      return {children:_children, index: i};\r\n    }else if(w.type == 'placeholder' || w.type == 'enter'){\r\n      const attrs = Object.assign({}, w.attrs);\r\n      _children[_children.length] = h(w.name, attrs, w.value);\r\n    }else{\r\n      _children[_children.length] = w.value;\r\n    }\r\n  }\r\n  return _children;\r\n}\r\n\r\nexport default {\r\n  name: 'app',\r\n  props: ['width', 'height'],\r\n  data () {\r\n    return {\r\n      data: [],\r\n      state: {},\r\n      words: [],\r\n      hheadAscent: 0, //文字渲染后行高与文字高度比\r\n      fontSize: 16,\r\n      head: 0,\r\n      autoLinefeed: true,\r\n      input: undefined,\r\n      isFocused: false,\r\n      isProcess: false,\r\n    }\r\n  },\r\n  computed: {\r\n    lineHeight (){\r\n      return this.fontSize * this.hheadAscent;\r\n    },\r\n    \r\n    offsetY (){\r\n      const a = Math.floor(this.height / this.lineHeight);\r\n      const b = this.y;\r\n      const m = b - this.head;\r\n\r\n      if(m >= a){\r\n        this.head += m - a + 1;\r\n        return -this.head * this.lineHeight; \r\n      }else if(m < 0){\r\n        this.head += m;\r\n        return -this.head * this.lineHeight;\r\n      }\r\n      return -this.head * this.lineHeight;\r\n    },\r\n    _words (){\r\n      const {origin, location} = this.state\r\n      let words = this.words.slice();\r\n\r\n      let text = ''\r\n      let offsetWidth = 0;\r\n      let width = 0;\r\n      let rowNum = 0;\r\n      for(let i=0;i<words.length;i++){\r\n        let w = words[i];\r\n        if(w.type == 'text'){\r\n          if(this.autoLinefeed && offsetWidth + getFontWidth(text + w.value) > this.width){\r\n            text = '';\r\n            offsetWidth = 0;\r\n            rowNum++\r\n          }\r\n          text += w.value;\r\n          let width = getFontWidth(text);\r\n          \r\n          w.width  = offsetWidth + width;\r\n          w.rowNum = rowNum;\r\n        }else if(w.type == 'enter'){\r\n          text = '';\r\n          w.width  = width;\r\n          w.rowNum = rowNum++;\r\n        }else if(w.type == 'placeholder'){\r\n          if(this.autoLinefeed && offsetWidth + getFontWidth(text + w.value) > this.width){\r\n            text = '';\r\n            offsetWidth = 0;\r\n            rowNum++\r\n          }\r\n          let width = getFontWidth(text);\r\n          offsetWidth += w.attrs.attrs.width\r\n          w.width  = offsetWidth + width;\r\n          \r\n          w.rowNum = rowNum;\r\n        }\r\n      }\r\n      // console.log(words.map(o=>o.width))\r\n      if(origin == location){\r\n        return words;\r\n      }\r\n      let a = origin, b = location;\r\n      if(a > b){\r\n        let c = b;\r\n        b = a;\r\n        a = c;\r\n      }\r\n      let arr = this.words.slice(a, b);\r\n      arr.unshift(style('span', \r\n        {\r\n          style: {\r\n            'line-height': this.lineHeight + 'px',\r\n            background: '#3390ff',\r\n          }\r\n        }\r\n      ))\r\n      arr.push(closed())\r\n      words.splice(a, b-a, ...arr);\r\n      \r\n      return words;\r\n    }\r\n  },\r\n  methods: {\r\n    x (){ //Vue2取消了computed cache ,使用方法调用计算x y的值\r\n      let {location} = this.state;\r\n      const y = this.y();\r\n      let width = 0;\r\n\r\n      while(1){\r\n        if(location == 0){\r\n          break;\r\n        }\r\n        let word = this.words[--location];\r\n        if(word.rowNum == y){\r\n          if(!word.width) continue;\r\n          width = word.width;\r\n          break;\r\n        }\r\n      }\r\n      return width - 1;\r\n    },\r\n    y (){\r\n      const {words} = this;\r\n      let {location} = this.state;\r\n      let i = 0;\r\n      while(1){\r\n        if(location == 0 && !words[location]) {\r\n          return 0;\r\n        };\r\n        let word = words[location--];\r\n        if(word){\r\n          if(word.rowNum >= 0){\r\n            if(word.type=='enter' && i > 0){ //光标左边是换行时y+1\r\n              i += word.rowNum;\r\n            }else{\r\n              i = word.rowNum;\r\n            }\r\n            break;\r\n          }\r\n          continue;\r\n        }else{ // location是最后一位\r\n          i = 1;\r\n        }\r\n      }\r\n      return i;\r\n    },\r\n    \r\n    clickingTools (name, ...arg){\r\n      if(name == 'bold'){\r\n        if(this.state.location == this.state.origin){\r\n          return;\r\n        }\r\n        store.dispatch(addB());\r\n        \r\n        store.dispatch(setLocation(this.state.location+1));\r\n        store.dispatch(setOrigin(this.state.origin + 1));\r\n      }else if(name == 'autoLinefeed'){\r\n        this.autoLinefeed = arg[0];\r\n      }else if(name == 'math'){\r\n        let width = getFontWidth('M') * 1.4;\r\n        let node1 = placeholder('M', 'math_tag', {width:width+'px'}, {width});\r\n        let node2 = placeholder('M', 'math_tag', {width:width+'px'}, {width});\r\n        store.dispatch(addKey(node1));\r\n        store.dispatch(setLocation(this.state.location+1));\r\n        store.dispatch(setOrigin(this.state.location));\r\n        store.dispatch(addKey(node2));\r\n      }\r\n    },\r\n    keydown (event){\r\n      let {key, code, shiftKey, ctrlKey, altKey, target} = event;\r\n      let {state, words} = this\r\n      let {location, rowsIndex} = state\r\n      if(key != 'Process'){\r\n        this.isProcess = false;\r\n        store.dispatch(scaKey(shiftKey, ctrlKey, altKey));        \r\n        \r\n        if(code.slice(0, 3) == 'Key' || code.slice(0, 3) == 'Dig'){ // 主键盘字母&数字\r\n          store.dispatch(addKey(text(key)));\r\n          store.dispatch(setLocation(location+1));\r\n        }\r\n\r\n        switch(code){\r\n          case 'Backquote':     // `\r\n          case 'Minus':         // -\r\n          case 'Equal':         // +\r\n          \r\n          case 'BracketLeft':   // [\r\n          case 'BracketRight':  // ]\r\n          \r\n          case 'Backslash':     // \\\r\n          case 'Semicolon':     // ;\r\n          case 'Quote':         // '\r\n\r\n          case 'Comma':         // ,\r\n          case 'Period':        // .\r\n          case 'Slash':         // /\r\n\r\n          case 'Numpad0':\r\n          case 'Numpad1':\r\n          case 'Numpad2':\r\n          case 'Numpad3':\r\n          case 'Numpad4':\r\n          case 'Numpad5':\r\n          case 'Numpad6':\r\n          case 'Numpad7':\r\n          case 'Numpad8':\r\n          case 'Numpad9':\r\n          \r\n          case 'NumpadDecimal':   // .\r\n          case 'NumpadAdd':       // +\r\n          case 'NumpadSubtract':  // -\r\n          case 'NumpadMultiply':  // *\r\n          case 'NumpadDivide':    // /\r\n            store.dispatch(addKey(text(key)));\r\n            store.dispatch(setLocation(location+1));\r\n        }\r\n\r\n        switch(code){\r\n          case 'ArrowUp': \r\n            moveUp();\r\n            break;\r\n          case 'ArrowDown':\r\n            moveDown();\r\n            break;\r\n          case 'ArrowLeft':\r\n            moveLeft();\r\n            break;\r\n          case 'ArrowRight':\r\n            moveRight();\r\n            break;\r\n          case 'Space':\r\n            addSpace();\r\n            break;\r\n          case 'Backspace':\r\n            delBackspace();\r\n            break;\r\n          case 'NumpadEnter': //Enter\r\n          case 'Enter': //Enter\r\n            addEnter();\r\n            break\r\n        }\r\n\r\n        if(!shiftKey){\r\n          store.dispatch(setOrigin(this.state.location));\r\n        }\r\n        event.preventDefault();\r\n      }else{\r\n        this.isProcess = true;\r\n      }\r\n      \r\n      // event.preventDefault();\r\n    },\r\n    oninput (event){\r\n      const {selectionStart, selectionEnd} = event.target\r\n      \r\n      if(this.isProcess && selectionStart == selectionEnd){\r\n        let text = [...event.target.innerHTML];\r\n        window.el = event.target\r\n        \r\n        text.forEach(s=>{\r\n          store.dispatch(addKey(text(s)));\r\n          store.dispatch(setLocation(this.state.location+1));\r\n        })\r\n        this.isProcess = false;\r\n        // event.target.innerHTML = '';\r\n      }\r\n      \r\n    },\r\n    editorFocus (event){\r\n      this.$refs.back.focus();\r\n    },\r\n    submit (event){\r\n      this.$emit('submit-content');\r\n    }\r\n  },\r\n\r\n\r\n  created (){\r\n    const unsubscribe = store.subscribe(()=>{\r\n      setData(this, store.getState())\r\n    })\r\n    store.dispatch(setLocation(0))\r\n  },\r\n\r\n  mounted (){\r\n    const sp = document.createElement('span');\r\n    sp.style.fontSize = '1000px';\r\n    sp.style.visibility = 'hidden';\r\n    sp.style.position = 'absolute';\r\n    sp.style.top = '0px';\r\n    sp.style.left = '0px';\r\n    sp.innerHTML = 'a';\r\n    document.body.appendChild(sp);\r\n    \r\n    this.hheadAscent = sp.offsetHeight / 1000;\r\n    \r\n  },\r\n  \r\n  render (h){\r\n    const data = renderContent.call(this, h, 0);\r\n    return (\r\n      <div class=\"xianEditor\" onClick={this.editorFocus}>\r\n        <Preview onClickingTools={this.clickingTools}></Preview>\r\n        <div class=\"wrap\" style={{'width': this.width+'px', 'height': this.height+'px'}} >\r\n          <textarea\r\n            ref=\"back\"\r\n            class=\"back\" contenteditable=\"true\"\r\n            onKeydown={this.keydown}\r\n            onInput={this.oninput}\r\n            onFocus = {()=>this.isFocused = true}\r\n            onBlur = {()=>this.isFocused = false}\r\n          >\r\n          </textarea>\r\n          <div class={[\"editor\", this.isFocused?'isFocused':'']}\r\n            style={{\r\n              'line-height': this.lineHeight + 'px',\r\n              '--x': this.x() + 'px', \r\n              '--y': this.y() * this.lineHeight + 'px',\r\n              'top': this.offsetY + 'px',\r\n              'word-break': this.autoLinefeed ? 'break-all' : 'normal',\r\n            }}>\r\n            {\r\n              data.length || this.isFocused ? \"\" : <span style={{color: '#ccc'}}>请输出内容...</span>\r\n            }\r\n            {\r\n              data\r\n            }\r\n          </div>\r\n        </div>\r\n        <button onClick={this.submit}>预览</button>\r\n      </div>\r\n    )\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.xianEditor > *{\r\n  box-sizing: border-box;\r\n}\r\n.xianEditor{\r\n  font-family: 'Microsoft YaHei';\r\n  font-size: 16px;\r\n  text-align: left;\r\n\r\n  display: inline-block;\r\n  position: relative;\r\n\r\n  --border-color: #cfcfcf;\r\n}\r\n.wrap{\r\n  border: 1px solid var(--border-color);\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.editor{\r\n  position: relative;\r\n  min-height: 100%;\r\n  background: #fff;\r\n  pointer-events: none;\r\n}\r\n.isFocused::before{\r\n  content: '|';\r\n  position: absolute;\r\n  top: var(--y);\r\n  left: var(--x);\r\n  animation-duration: 1.2s;\r\n  animation-iteration-count: infinite;\r\n  animation-name: slidein;\r\n}\r\n.back{\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n}\r\n.placeholder{\r\n  display: inline-block;\r\n  text-align: center;\r\n}\r\n.math_tag{\r\n  color: #595959;\r\n  background: #cecece;\r\n  border-radius: 0.2em;\r\n}\r\n\r\n@keyframes slidein {\r\n  0%{\r\n    opacity: 1;\r\n  }\r\n  49%{\r\n    opacity: 1;\r\n  }\r\n  50%{\r\n    opacity: 0;\r\n  }\r\n  100%{\r\n    opacity: 0;\r\n  }\r\n}\r\n</style>"],"names":["Symbol","objectProto","hasOwnProperty","symToStringTag","nativeObjectToString","_ponyfill","global","require$$0","index","$$observable","ADD_KEY","BACKSPACE","ADD_B","SET_LOCATION","SET_ORIGIN","SET_ROWS_INDEX","REMOVE_ROWS_INDEX","S_C_A_KEY","words","state","action","editorState","location","origin","type","constants","splice","value","a","b","c","log","map","v","name","initEditorState","Object","assign","rows","rowsIndex","push","sort","forEach","indexOf","shiftKey","ctrlKey","altKey","app","_editorState","createStore","render","event","$emit","autoLinefeed","text","placeholder","content","className","style","attr","enter","closed","whereAmI","arr","loc","x","y","i","length","canvas","document","createElement","ctx","getContext","fontSize","fontWeight","fontFamily","font","getFontWidth","size","weight","family","save","w","measureText","width","restore","setData","self","addKey","word","backspace","addB","setLocation","setOrigin","setRowsIndex","removeRowsIndex","values","Array","scaKey","tree","unsubscribe","store","subscribe","getState","addSpace","dispatch","addEnter","moveUp","moveDown","moveLeft","moveRight","delBackspace","nodeTypes","renderContent","h","_children","_words","call","children","attrs","_scopeId","undefined","hheadAscent","Math","floor","height","lineHeight","m","head","slice","offsetWidth","rowNum","unshift","node1","node2","key","code","target","isProcess","preventDefault","selectionStart","selectionEnd","innerHTML","el","s","$refs","back","focus","sp","visibility","position","top","left","body","appendChild","offsetHeight","data","editorFocus","clickingTools","keydown","oninput","isFocused","offsetY","color","submit"],"mappings":"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"}